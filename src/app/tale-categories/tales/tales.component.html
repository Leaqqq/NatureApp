<ActionBar class="page-header">

    <NavigationButton ios:visibility="collapsed"
                      android.systemIcon="ic_menu_back"
                      (tap)="onBackButtonTap()"></NavigationButton>

    <ActionItem android:visibility="collapsed"
                (tap)="onBackButtonTap()"
                ios.position="left">
        <Label text="&#xf060;"
               class="nt-icon fas"
               style="font-size: 20;">
        </Label>
    </ActionItem>
    <Label class="h2"
           style="color: white;"
           text="{{taleCategory?.name}}"></Label>
    <ActionItem *ngIf="isAdmin"
                ios.position="right">
        <Label text="&#xf0fe;"
               class="nt-icon far p-r-20"
               style="font-size: 20;"
               verticalAlignment="center"
               (tap)="onCreateTale()"></Label>
    </ActionItem>
</ActionBar>

<FlexboxLayout class="page-tales">
    <RadListView [items]="tales"
                 (itemTap)="onTaleItemTap($event)"
                 style="color: white; height: 100%;">
        <StackLayout>
            <ng-template tkListItemTemplate
                         let-tale="item">
                <StackLayout class="tales__item">
                    <GridLayout class="tales__item-content">
                        <WebImage [src]="tale.pictureURL"
                                  stretch="aspectFill"
                                  height="180"
                                  placeholder="~/assets/logo-placeholder.png"></WebImage>
                        <StackLayout class="item-text"
                                     verticalAlignment="middle">
                            <Label [text]="tale.name"
                                   horizontalAlignment="center"></Label>
                        </StackLayout>
                    </GridLayout>
                    <label style="background: linear-gradient(rgba(44, 43, 43, 0.4), transparent);
                                  height: 3;"
                           verticalAlignment="top"></label>
                </StackLayout>
            </ng-template>
        </StackLayout>
    </RadListView>
    <StackLayout style="background-color:#ffffff;"
                 *ngIf="!isSubscriber"
                 verticalAlignment="bottom">
        <button class="btn -rounded-lg m-b-20"
                shadow="8"
                text="OPGRADER TIL FULD VERSION"
                style="background-color: rgb(116,156,67); color: white; font-size: 18px; width: 75%; margin-top: 175px;"
                (tap)="onSubscriptionModalButtonTap()"></button>
    </StackLayout>
</FlexboxLayout>